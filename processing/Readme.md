# Data Processing

This repository provides a reference implementation of edge reconstruction for HGCN as described in the paper:<br>


### Basic usage

#### Input

There isÂ **three** types of required input files.
1. **edge-file** (e.g., PA.txt) is the file containing all edges of one specific type in HIN, it should be in the format of :
					
		<node_index_1>\t<node_index_2>
					
	Note that node_index_1 and node_index_2 denote two types of nodes.
		
	For example: 
	
		0   12
		9   156
		
			
2. **node-file** (e.g., P.txt, A.txt) is the file containing all nodes of one specific type in HIN, it should be in the format of :
					
		<node_index>\t<node_name>
		
	For example: 
	
		0   1
		1   2
		2   3
		
3. **label-file** (e.g., PL.txt) is the file containing the labels of target-type nodes, it should be in the format of :
					
		<node_index>\t<label_index>
		
	For example: 
	
		0   1
		1   1
		2   4
		3   2
		
	Note that if there exist some nodes that have no labels, the label index should be started from 1 (i.e., we use 0 to
	 denote the nodes who have no labels) and set the "ispart" as "True" in gen_feat.py. And if all nodes have labels, 
	 the label index could be 0 and set the "ispart" as False

#### Output

There will be three types of files generated by gen_adj.py and gen_feat.py. 
**The first type of files** is named as:
		
	*.feat.label.npz
		
**The second type of files** is named as:
		
	*.adj.npz
   
**The third type of files** are named as	
	
	*.label.part and *.label.all
				
Note that *.label.part only includes the nodes that have labels.
#### Execute and example
And we are using python2.<br/> 

Here are two exmaple of generating output files

	python gen_adj.py --edge-list PA,PC --input-dir your_data_dir --output-dir your_data_dir
	
	python gen_feat.py --target-type P --node-list P,A,C --label-file PL.txt --ispart True --input-dir your_data_dir --output-dir your_data_dir
